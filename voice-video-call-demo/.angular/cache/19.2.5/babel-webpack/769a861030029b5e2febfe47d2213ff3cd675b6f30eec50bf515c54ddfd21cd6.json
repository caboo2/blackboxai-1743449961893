{"ast":null,"code":"import _asyncToGenerator from \"/project/sandbox/user-workspace/voice-video-call-demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _HomePage;\nimport { IonicModule } from '@ionic/angular';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/call.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/forms\";\nexport class HomePage {\n  constructor(callService, router) {\n    this.callService = callService;\n    this.router = router;\n    this.recipientId = '';\n  }\n  startVoiceCall() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.recipientId) {\n        return;\n      }\n      try {\n        yield _this.callService.startCall(_this.recipientId, false);\n        _this.router.navigate(['/call'], {\n          state: {\n            recipientId: _this.recipientId,\n            isVideo: false\n          }\n        });\n      } catch (error) {\n        console.error('Failed to start voice call:', error);\n      }\n    })();\n  }\n  startVideoCall() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this2.recipientId) {\n        return;\n      }\n      try {\n        yield _this2.callService.startCall(_this2.recipientId, true);\n        _this2.router.navigate(['/call'], {\n          state: {\n            recipientId: _this2.recipientId,\n            isVideo: true\n          }\n        });\n      } catch (error) {\n        console.error('Failed to start video call:', error);\n      }\n    })();\n  }\n}\n_HomePage = HomePage;\n_HomePage.ɵfac = function HomePage_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || _HomePage)(i0.ɵɵdirectiveInject(i1.CallService), i0.ɵɵdirectiveInject(i2.Router));\n};\n_HomePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _HomePage,\n  selectors: [[\"app-home\"]],\n  decls: 22,\n  vars: 1,\n  consts: [[1, \"ion-padding\"], [1, \"call-container\"], [\"position\", \"floating\"], [\"type\", \"text\", 3, \"ngModelChange\", \"ngModel\"], [1, \"call-buttons\"], [\"expand\", \"block\", \"color\", \"primary\", 3, \"click\"], [\"name\", \"call\", \"slot\", \"start\"], [\"expand\", \"block\", \"color\", \"secondary\", 3, \"click\"], [\"name\", \"videocam\", \"slot\", \"start\"]],\n  template: function HomePage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Voice/Video Call Demo\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"ion-content\", 0)(5, \"div\", 1)(6, \"ion-card\")(7, \"ion-card-header\")(8, \"ion-card-title\");\n      i0.ɵɵtext(9, \"Start a Call\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"ion-card-content\")(11, \"ion-item\")(12, \"ion-label\", 2);\n      i0.ɵɵtext(13, \"Recipient ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"ion-input\", 3);\n      i0.ɵɵtwoWayListener(\"ngModelChange\", function HomePage_Template_ion_input_ngModelChange_14_listener($event) {\n        i0.ɵɵtwoWayBindingSet(ctx.recipientId, $event) || (ctx.recipientId = $event);\n        return $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 4)(16, \"ion-button\", 5);\n      i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_16_listener() {\n        return ctx.startVoiceCall();\n      });\n      i0.ɵɵelement(17, \"ion-icon\", 6);\n      i0.ɵɵtext(18, \" Voice Call \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"ion-button\", 7);\n      i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_19_listener() {\n        return ctx.startVideoCall();\n      });\n      i0.ɵɵelement(20, \"ion-icon\", 8);\n      i0.ɵɵtext(21, \" Video Call \");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵtwoWayProperty(\"ngModel\", ctx.recipientId);\n    }\n  },\n  dependencies: [IonicModule, i3.IonButton, i3.IonCard, i3.IonCardContent, i3.IonCardHeader, i3.IonCardTitle, i3.IonContent, i3.IonHeader, i3.IonIcon, i3.IonInput, i3.IonItem, i3.IonLabel, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor, CommonModule, FormsModule, i4.NgControlStatus, i4.NgModel],\n  styles: [\".call-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  min-height: 100%;\\n  padding: 20px;\\n}\\n\\nion-card[_ngcontent-%COMP%] {\\n  width: 100%;\\n  max-width: 400px;\\n  margin: 0;\\n}\\n\\n.call-buttons[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n}\\n\\nion-button[_ngcontent-%COMP%] {\\n  --border-radius: 8px;\\n  height: 48px;\\n  font-size: 16px;\\n}\\nion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  margin-right: 8px;\\n}\\n\\nion-item[_ngcontent-%COMP%] {\\n  --border-radius: 8px;\\n  --background: var(--ion-color-light);\\n  margin-bottom: 16px;\\n}\\n\\nion-input[_ngcontent-%COMP%] {\\n  --padding-start: 16px;\\n  --padding-end: 16px;\\n  font-size: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxTQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLFNBQUE7QUFDRjs7QUFFQTtFQUNFLG9CQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUFDRjtBQUNFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0FBQ0o7O0FBR0E7RUFDRSxvQkFBQTtFQUNBLG9DQUFBO0VBQ0EsbUJBQUE7QUFBRjs7QUFHQTtFQUNFLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FBQUYiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FsbC1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWluLWhlaWdodDogMTAwJTtcbiAgcGFkZGluZzogMjBweDtcbn1cblxuaW9uLWNhcmQge1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LXdpZHRoOiA0MDBweDtcbiAgbWFyZ2luOiAwO1xufVxuXG4uY2FsbC1idXR0b25zIHtcbiAgbWFyZ2luLXRvcDogMjBweDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAxMHB4O1xufVxuXG5pb24tYnV0dG9uIHtcbiAgLS1ib3JkZXItcmFkaXVzOiA4cHg7XG4gIGhlaWdodDogNDhweDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBcbiAgaW9uLWljb24ge1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgfVxufVxuXG5pb24taXRlbSB7XG4gIC0tYm9yZGVyLXJhZGl1czogOHB4O1xuICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG59XG5cbmlvbi1pbnB1dCB7XG4gIC0tcGFkZGluZy1zdGFydDogMTZweDtcbiAgLS1wYWRkaW5nLWVuZDogMTZweDtcbiAgZm9udC1zaXplOiAxNnB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["IonicModule","CommonModule","FormsModule","HomePage","constructor","callService","router","recipientId","startVoiceCall","_this","_asyncToGenerator","startCall","navigate","state","isVideo","error","console","startVideoCall","_this2","i0","ɵɵdirectiveInject","i1","CallService","i2","Router","selectors","decls","vars","consts","template","HomePage_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtwoWayListener","HomePage_Template_ion_input_ngModelChange_14_listener","$event","ɵɵtwoWayBindingSet","ɵɵlistener","HomePage_Template_ion_button_click_16_listener","ɵɵelement","HomePage_Template_ion_button_click_19_listener","ɵɵadvance","ɵɵtwoWayProperty","i3","IonButton","IonCard","IonCardContent","IonCardHeader","IonCardTitle","IonContent","IonHeader","IonIcon","IonInput","IonItem","IonLabel","IonTitle","IonToolbar","TextValueAccessor","i4","NgControlStatus","NgModel","styles"],"sources":["/project/sandbox/user-workspace/voice-video-call-demo/src/app/pages/home/home.page.ts","/project/sandbox/user-workspace/voice-video-call-demo/src/app/pages/home/home.page.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { CallService } from '../../services/call.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n  standalone: true,\n  imports: [IonicModule, CommonModule, FormsModule]\n})\nexport class HomePage {\n  recipientId: string = '';\n\n  constructor(\n    private callService: CallService,\n    private router: Router\n  ) {}\n\n  async startVoiceCall() {\n    if (!this.recipientId) {\n      return;\n    }\n\n    try {\n      await this.callService.startCall(this.recipientId, false);\n      this.router.navigate(['/call'], {\n        state: { recipientId: this.recipientId, isVideo: false }\n      });\n    } catch (error) {\n      console.error('Failed to start voice call:', error);\n    }\n  }\n\n  async startVideoCall() {\n    if (!this.recipientId) {\n      return;\n    }\n\n    try {\n      await this.callService.startCall(this.recipientId, true);\n      this.router.navigate(['/call'], {\n        state: { recipientId: this.recipientId, isVideo: true }\n      });\n    } catch (error) {\n      console.error('Failed to start video call:', error);\n    }\n  }\n}","<ion-header>\n  <ion-toolbar>\n    <ion-title>Voice/Video Call Demo</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <div class=\"call-container\">\n    <ion-card>\n      <ion-card-header>\n        <ion-card-title>Start a Call</ion-card-title>\n      </ion-card-header>\n      <ion-card-content>\n        <ion-item>\n          <ion-label position=\"floating\">Recipient ID</ion-label>\n          <ion-input [(ngModel)]=\"recipientId\" type=\"text\"></ion-input>\n        </ion-item>\n        \n        <div class=\"call-buttons\">\n          <ion-button expand=\"block\" (click)=\"startVoiceCall()\" color=\"primary\">\n            <ion-icon name=\"call\" slot=\"start\"></ion-icon>\n            Voice Call\n          </ion-button>\n          \n          <ion-button expand=\"block\" (click)=\"startVideoCall()\" color=\"secondary\">\n            <ion-icon name=\"videocam\" slot=\"start\"></ion-icon>\n            Video Call\n          </ion-button>\n        </div>\n      </ion-card-content>\n    </ion-card>\n  </div>\n</ion-content>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}